<div>
    <a [routerLink]="['/']">Back to Asset List</a>

    <div *ngIf="assetDetails?.assetTagId != null">
        <form>
            <div class="container">
                <h2>Asset Details</h2>
                <p>Assigned to: <a [routerLink]="['/']" [queryParams]="{employeeId: assetDetails.assignedTo}">{{assetDetails.assignedTo}}</a></p>
                <div class="row">
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Tag ID</mat-label>
                            <input matInput name="TagID" class="form-field" [(ngModel)]="assetDetails.assetTagId"
                                [readonly]="true" placeholder="Tag ID">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Asset Type</mat-label>
                            <input matInput name="AssetType" class="form-field" [(ngModel)]="assetDetails.assetType"
                                [readonly]="true" placeholder="Asset Type">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Date Added</mat-label>
                            <input matInput name="DateAdded" class="form-field" [(ngModel)]="assetDetails.dateAdded"
                                [readonly]="true" placeholder="Date Added">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <mat-form-field appearance="outline">
                            <mat-label>Assigned To</mat-label>
                            <input matInput name="AssignedTo" class="form-field" [(ngModel)]="assetDetails.assignedTo"
                                placeholder="Assigned To">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field appearance="outline">
                            <mat-label>Description</mat-label>
                            <textarea matInput name="Description" class="form-field" required
                                [(ngModel)]="assetDetails.description" placeholder="Description"></textarea>
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Retired</mat-label>
                            <input matInput name="Retired" class="form-field" [readonly]="true"
                                [(ngModel)]="assetDetails.retired" placeholder="Retired">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Date Retired</mat-label>
                            <input matInput name="DateRetired" class="form-field" [readonly]="true"
                                [(ngModel)]='assetDetails.dateRetired' placeholder="Date Retired">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row justify-content-around">
                        <button *ngIf="!assetDetails.retired" class="btn btn-secondary" (click)="retireAsset()"
                            title="Note: Clicking this button will retire the asset, and save any changes made">Retire
                            Asset and Save</button>
                        <button *ngIf="assetDetails.retired" class="btn btn-secondary" (click)="unretireAsset()"
                            title="Note: Clicking this button will un-retire the asset, and save any changes made">Un-Retire
                            Asset and Save</button>
                        <button class="btn btn-primary" (click)="updateAsset()">Save Changes</button>
                </div>
            </div>
        </form>
    </div>
</div>